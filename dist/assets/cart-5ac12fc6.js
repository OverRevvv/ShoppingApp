import{_,o as r,b as u,d as o,t as i,F as v,i as h,f as g,r as $,c as b,j as f,g as l,p as y,h as k}from"./index-bbf74f1f.js";const I={class:"product-container"},x=["src"],S={class:"details-wrap"},w={__name:"productListItem",props:{product:Object},setup(t){return(e,a)=>(r(),u("div",I,[o("img",{src:t.product.imageUrl,alt:"",class:"product-image"},null,8,x),o("div",S,[o("h3",null,i(t.product.name),1),o("p",null,"$"+i(t.product.price),1)]),o("button",{class:"remove-button",onClick:a[0]||(a[0]=n=>e.$emit("remove-from-cart",t.product.id))},"Remove from cart")]))}},C=_(w,[["__scopeId","data-v-0c8e1174"]]),F={key:0},L={class:"total-price"},B=o("button",{id:"checkout-button"},"Proceed to checkout",-1),N={key:1},P={__name:"productList",props:{products:String,totalPrice:Number},setup(t){return(e,a)=>t.products.length>0?(r(),u("div",F,[(r(!0),u(v,null,h(t.products,n=>(r(),g(C,{onRemoveFromCart:a[0]||(a[0]=d=>e.$emit("remove-from-cart",d)),key:n.id,product:n},null,8,["product"]))),128)),o("h3",L,"Total: $"+i(t.totalPrice),1),B])):(r(),u("p",N,"You haven't added anything yet!"))}};const D=t=>(y("data-v-7477b85a"),t=t(),k(),t),R={id:"page-wrap"},j=D(()=>o("h1",null,"Shopping Cart",-1)),p="/api",U={__name:"cart",setup(t){const e=$([]);(async()=>{const s=await l.get(`${p}/users/1459/cart`);e.value=s.data})();const n=b(()=>e.value.reduce((s,c)=>s+Number(c.price),0));async function d(s){const c=await l.delete(`${p}/users/1459/cart/${s}`);e.value=c.data}return(s,c)=>(r(),u("div",R,[j,f(P,{onRemoveFromCart:c[0]||(c[0]=m=>d(m)),"total-price":n.value,products:e.value},null,8,["total-price","products"])]))}},E=_(U,[["__scopeId","data-v-7477b85a"]]);export{E as default};
